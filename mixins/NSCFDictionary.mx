#include "../piobjc.h"

MIXIN NSCFDictionary
{

PIKEFUN object _get_iterator()
{
	push_text("Public.ObjectiveC.NSDictionaryIterator");
	SAFE_APPLY_MASTER("resolv", 1);

	if(Pike_sp[-1].type == T_PROGRAM)
	{
		push_object(Pike_fp->current_object);
		apply_svalue(Pike_sp-2, 1);
		stack_swap();
		pop_stack();
		
		return;
	}
	else
	{
		push_int(0);
	}

}

PIKEFUN mixed `[](mixed key)
{
  if(key->type == T_STRING)
     printf("`[](%s)", key->u.string->str);

  pop_stack();
  push_int(0);
}

}
